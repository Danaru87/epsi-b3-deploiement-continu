<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Jenkins</title>
	<meta name="author" content="David Gayerie">
	<link href="css/article.css" rel="stylesheet" media="screen">
	<link href="css/print-article.css" rel="stylesheet" media="print">
	<link href="highlight/styles/zenburn.css" rel="stylesheet">

	<script src="highlight/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<script src="js/toc.js"></script>
</head>
<body>
	<div id="titleBar">
		<a href="index.html" title="Retourner au sommaire"><img src="assets/go-home.png"></a>
 		<a href="https://github.com/spoonless/epsi-b3-deploiement-continu/archive/gh-pages.zip" title="Télécharger tout le cours"><img src="assets/download.png"></a>
		<script>document.write(document.title)</script> - EPSI B3 2016/2017 - <a href="mailto:david.gayerie.epsi@mailoo.org">David Gayerie</a>
		<span class="license"><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/fr/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/fr/80x15.png" /></a></span>
	</div>

	<header></header>
	<article>
		<h1><script>document.write(document.title)</script></h1>
		<section id="toc"></section>

		<p><a href="https://jenkins.io/index.html">Jenkins</a> est un serveur d'intégration continue.
		Il permet d'automatiser un certain nombre d'opérations (compilation, packaging, tests) afin de les réaliser aussi souvent que nécessaire.
		Une équipe de développement peut ainsi créer un <i>pipeline</i> automatisé de développement lui permettant de vérifier la qualité
		de ce qui est produit au fur et à mesure des développements.
		</p>
		
		<section>
			<h2>Installation de Jenkins</h2>
			
			<p><a href="https://jenkins.io/index.html">Jenkins</a> est une application Web Java EE. Il peut donc être installé comme un simple fichier war.</p>
			<aside>
				<p>Il est également possible d'<a href="https://jenkins.io/doc/book/getting-started/installing/">installer Jenkins comme un serveur complet</a>.</p>
			</aside>
		</section>
	</article>
	
	<article class="exercice">
		<section>
			<h2>Exercice&nbsp;: Installation dans un conteneur</h2>
			<dl>
				<dt>Objectif</dt>
				<dd>Installer un serveur d'intégration complet dans un conteneur LXC</dd>
			</dl>
			<p>Vous devez récupérer les scripts permettant d'installer Jenkins depuis le projet <a href="https://github.com/spoonless/jenkins-server">GitHub</a>.</p>
			<ul>
				<li>Pour LXC, téléchargez les fichiers sur <a href="https://github.com/spoonless/jenkins-server/archive/lxc.zip">https://github.com/spoonless/jenkins-server/archive/lxc.zip</a></li>
				<li>Pour LXC/LXD, téléchargez les fichiers sur <a href="https://github.com/spoonless/jenkins-server/archive/lxd.zip">https://github.com/spoonless/jenkins-server/archive/lxd.zip</a></li>
			</ul>
			
			<p>Vous trouvez dans ces fichiers un <strong>playbook</strong> ansible complet pour l'installation de Tomcat / Jenkins / Git / JDK / Maven pour le groupe <strong>ci-server</strong></p>
			<p>Les fichiers contiennent également trois scripts&nbsp;:</p>
			<dl>
				<dt>01_create_ubuntu.sh</dt>
				<dd>crée un conteneur ubuntu yakkety pour une architecture 64 bits</dd>
				<dt>02_run_playbook.sh</dt>
				<dd>exécute le playbook complet permettant d'installer Jenkins qui sera disponible sur http://[@ip du conteneur]:8080</p>
				<aside class="warn">Attention, vous devez renseigner le fichier <code>inventory.ini</code> qui définit l'inventaire de votre réseau.</aside></dd>
				<dt>03_get_jenkins_admin_password.sh</dt>
				<dd>permet de récupérer mot de passe administrateur d'installation. La première fois que vous allez vous connecter à Jenkins, 
				vous aurez besoin de fournir un mot de passe présent sur la machine hôte.</dd>
			</dl>
		</section>
	</article>

	<article class="exercice">
		<section>
			<h2>Exercice&nbsp;: Création d'un premier projet dans Jenkins</h2>
			<dl>
				<dt>Objectif</dt>
				<dd>Comprendre le fonctionnement d'un serveur d'intégration continue</dd>
			</dl>
			<p>Créez un nouveau projet (cliquez sur <i>Nouveau Item</i> dans le menu en haut à gauche). Choisissez le type <strong>Construire un projet free-style</strong>.
			Puis créez un projet dont le code source est géré par un dépôt Git distant.</p>
			<p>Pour cette exercice vous pouvez par exemple vous servir du projet Maven <a href="https://github.com/spoonless/dbunit-annotations">dbunit-annotations</a>.</p>
			<p>Il faut ensuite configurer le projet Jenkins pour invoquer des cibles Maven.</p>
		</section>
	</article>

	<article class="exercice">
		<section>
			<h2>Exercice&nbsp;: création des indicateurs</h2>
			<dl>
				<dt>Objectif</dt>
				<dd>Personnaliser un projet Jenkins en ajoutant des indicateurs</dd>
			</dl>
		</section>
	</article>

	<footer class="license">
		<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/fr/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/fr/88x31.png" /></a><br />Cette œuvre est mise à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/fr/">Licence Creative Commons Attribution -  Partage dans les Mêmes Conditions 3.0 France</a>.
	</footer>
</body>
</html>
